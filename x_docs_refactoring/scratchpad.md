# scratchpad.md â€” Dashboard â€œ2â€‘Tab UIâ€ è¦ä»¶ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

> **ç›®æ¨™ã‚¹ã‚³ãƒ¼ãƒ—**: æ—¢å­˜ Dashboard ç”»é¢ã‚’ã€ŒToday / Unscheduledã€ã® **2Â ã‚¿ãƒ–æ–¹å¼** ã«æ”¹ä¿®ã—ã€UI ç ´ç¶»ãªããƒªãƒªãƒ¼ã‚¹ã§ãã‚‹çŠ¶æ…‹ã«ã™ã‚‹ã€‚
> **ã‚¢ã‚¦ãƒˆãƒ»ã‚ªãƒ–ãƒ»ã‚¹ã‚³ãƒ¼ãƒ—**: 3Â ã‚¿ãƒ–ä»¥ä¸Šã®æ‹¡å¼µãƒ»æ–° API è¨­è¨ˆãƒ»å…¨é¢ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ å°å…¥ã€‚
> **ã‚´ãƒ¼ãƒ«å®šç¾©**: 2 ã‚¿ãƒ–åˆ‡æ›¿ã§ **(1) è¡¨ç¤ºåˆ‡æ›¿ 150 ms ä»¥å†…**ã€**(2) URL åŒæœŸ**ã€**(3) e2e ãƒ†ã‚¹ãƒˆé€šé**ã€‚

## ğŸ“ ä½œæ¥­å®Œäº†ãƒªã‚¹ãƒˆ

* [x] **Dashboard ã‚¿ã‚¤ãƒˆãƒ«ç·¨é›†æ©Ÿèƒ½ã®æ”¹ä¿®**
  * [x] `HierarchicalTaskItem`ã‚’`EditableHierarchicalTaskItem`ã«ç½®æ›
  * [x] ç·¨é›†é–‹å§‹ã‚¤ãƒ™ãƒ³ãƒˆã®å®Ÿè£…ï¼ˆãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã¨ãƒšãƒ³ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ï¼‰
  * [x] ãƒšãƒ³ï¼†ã”ã¿ç®±ã‚¢ã‚¤ã‚³ãƒ³ã®å¸¸æ™‚è¡¨ç¤ºåŒ–
  * [x] ç·¨é›†ãƒ¢ãƒ¼ãƒ‰æ™‚ã®èƒŒæ™¯è‰²å¤‰æ›´

---

## ğŸ“ƒ å¤šå±¤ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### 1. æƒ…å ±è¨­è¨ˆ

* [ ] \[P0] **UIÂ è¦ä»¶ã®æ•´ç†**

  * [ ] Figma ãƒ¢ãƒƒã‚¯ã§è¦ç´ ä¸€è¦§ã‚’æŠ½å‡º
  * [ ] ã‚¿ãƒ–åˆ‡æ›¿æ™‚ã« **ä¿æŒã™ã‚‹ state / ç ´æ£„ã™ã‚‹ state** ã‚’æ•´ç†

    * [ ] é¸æŠãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ID
    * [ ] å±•é–‹çŠ¶æ…‹ (`expanded`)
    * [ ] ç·¨é›†ä¸­ã‚¿ã‚¤ãƒˆãƒ« (`editingTitle`)
* [ ] \[P1] **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚·ãƒŠãƒªã‚ªç¢ºèª**

  * [ ] é€šå¸¸ã‚¿ã‚¹ã‚¯è¿½åŠ ãƒ•ãƒ­ãƒ¼
  * [ ] D\&D ç§»å‹•â†’ã‚¿ãƒ–è‡ªå‹•åˆ‡æ›¿ãƒ•ãƒ­ãƒ¼
  * [ ] ã‚¹ãƒãƒ›ï¼ˆå¹… 375Â pxï¼‰é–²è¦§ãƒ•ãƒ­ãƒ¼

### 2. ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ / TabÂ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

* [ ] \[P0] **TabÂ API æ±ºå®š**

  * [ ] `@/components/ui/tabs` å†åˆ©ç”¨å¯å¦èª¿æŸ»
  * [ ] props: `tabs: { id: string; label: string; badge?: number }[]`
* [ ] \[P0] **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**

  * [ ] `role="tablist"` / `role="tab"` / `aria-selected` å®Ÿè£…
  * [ ] ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ (â†/â†’/Home/End) ç¢ºèª
* [ ] \[P1] **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–**

  * [ ] ãƒ¢ãƒã‚¤ãƒ«æ™‚ã« bottomÂ navigation åŒ–ã®æ˜¯éæ¤œè¨

### 3. ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° & URLÂ åŒæœŸ

* [ ] \[P0] **ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­è¨ˆ**

  * [ ] `/dashboard?view=today` vs ãƒ‘ã‚¹åˆ†å‰² `/dashboard/today`
  * [ ] ãƒ–ãƒ©ã‚¦ã‚¶ãƒãƒƒã‚¯å‹•ä½œãƒ†ã‚¹ãƒˆ
* [ ] \[P0] **Next.jsÂ Segment è¿½åŠ **

  * [ ] `app/dashboard/(tabs)/today/page.tsx`
  * [ ] `app/dashboard/(tabs)/unscheduled/page.tsx`
* [ ] \[P1] **DeepÂ Linking QA**

  * [ ] ç›´æ¥ URL ã§ã‚¢ã‚¯ã‚»ã‚¹ â†’ æ­£å¸¸æç”»

### 4. çŠ¶æ…‹ç®¡ç†

* [ ] \[P0] **ã‚¿ãƒ–çŠ¶æ…‹**

  * [ ] ZustandÂ store `dashboard.view`
  * [ ] PersistÂ middleware ã§ LS ä¿å­˜
* [ ] \[P1] **æ´¾ç”Ÿ Selector**

  * [ ] `selectVisibleProjects(view)` å®Ÿè£…

### 5. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²

* [ ] \[P0] **ç¾åœ¨ã® `DashboardNestedList` ã‚’åˆ†è§£**

  * [ ] `DashboardListToday.tsx`
  * [ ] `DashboardListUnscheduled.tsx`
* [ ] \[P0] **å…±é€šéƒ¨å“æŠ½å‡º**

  * [ ] `ProjectCard`
  * [ ] `TaskRow`
* [ ] \[P2] Storybook è¿½åŠ 

### 6. ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° / å‹•ä½œ

* [ ] \[P0] **TabÂ åˆ‡æ›¿ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³** (Framer Motion)

  * [ ] FadeÂ +Â SlideÂ 20Â px
  * [ ] prefers-reduced-motion å¯¾å¿œ
* [ ] \[P1] **é«˜ã•æºã‚Œå¯¾ç­–**

  * [ ] åŒä¸€é«˜ã•ã‚³ãƒ³ãƒ†ãƒŠ & `overflowâ€‘anchor` ç„¡åŠ¹åŒ–

### 7. ãƒ†ã‚¹ãƒˆ

* [ ] \[P0] **ãƒ¦ãƒ‹ãƒƒãƒˆ** (JestÂ +Â Testing Library)

  * [ ] åˆæœŸãƒ¬ãƒ³ãƒ€ãƒ¼ãŒ Today
  * [ ] ã‚¿ãƒ–ã‚¯ãƒªãƒƒã‚¯ â†’ æœŸå¾…ã‚¿ã‚¹ã‚¯ãŒè¡¨ç¤º
* [ ] \[P0] **e2e** (Playwright)

  * [ ] URL ç›´æ‰“ã¡ `/dashboard/unscheduled` ã§ UnscheduledÂ ã‚¿ãƒ–
  * [ ] D\&D ã§ã‚¿ã‚¹ã‚¯ç§»å‹• â†’ ä»–ã‚¿ãƒ–ã«è¡¨ç¤ºã•ã‚Œã‚‹
* [ ] \[P1] **AXEÂ è‡ªå‹•ãƒ†ã‚¹ãƒˆ**

### 8. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

* [ ] \[P1] **Codeâ€‘Split**

  * [ ] `dynamic()` ã§ã‚¿ãƒ–æ¯ã«é…å»¶èª­ã¿è¾¼ã¿
* [ ] \[P2] **React.memo** é©ç”¨ç®‡æ‰€æ´—ã„å‡ºã—

### 9. ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹

* [ ] \[P2] TabÂ åˆ‡æ›¿ã‚¤ãƒ™ãƒ³ãƒˆã‚’ `gtag("event", "dashboard_view_change")` é€ä¿¡
* [ ] \[P3] ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—è¦ä»¶æ¤œè¨

### 10. ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆè¨ˆç”»

* [ ] \[P0] **ãƒ•ãƒ©ã‚°ç®¡ç†**

  * [ ] LaunchDarklyÂ flag `dashboard_2tab`
  * [ ] QAÂ ã‚°ãƒ«ãƒ¼ãƒ— 100Â % â†’ ã‚¹ãƒ†ãƒ¼ã‚¸
* [ ] \[P0] **ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆ**è‰æ¡ˆ
* [ ] \[P1] **æ’¤é€€æˆ¦ç•¥**

  * [ ] ãƒ•ãƒ©ã‚° OFF ã§æ—§ UI å¾©å¸°ç¢ºèª

---

## å‚è€ƒãƒªãƒ³ã‚¯

* `x_docs_refactoring` âœ *UIÂ Layer/Navigation.md*
* Figma âœ *DashboardÂ v2 / Page32*
* èª²é¡Œ: [https://github.com/ttaarroo77/commit\_coach\_ver04/issues/123](https://github.com/ttaarroo77/commit_coach_ver04/issues/123)
